<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Arrow Marker Definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- LAYER 1: DATA SOURCES -->
  <rect x="30" y="40" width="250" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="50" y="70" style="font:bold 16px sans-serif; fill:#222;">Data & Context Sources</text>
  <text x="50" y="100" style="font:14px sans-serif; fill:#333;">CRM, Orders, KB, Policies</text>
  <text x="50" y="120" style="font:14px sans-serif; fill:#333;">Chat Logs, Product Catalog</text>

  <!-- LAYER 2: INGESTION -->
  <rect x="320" y="40" width="250" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="340" y="70" style="font:bold 16px sans-serif; fill:#222;">Ingestion & Processing</text>
  <text x="340" y="100" style="font:14px sans-serif; fill:#333;">Connectors, ETL, Chunking</text>
  <text x="340" y="120" style="font:14px sans-serif; fill:#333;">Metadata Enrichment</text>

  <!-- LAYER 3: STORAGE -->
  <rect x="610" y="40" width="250" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="630" y="70" style="font:bold 16px sans-serif; fill:#222;">Storage & Indexing</text>
  <text x="630" y="100" style="font:14px sans-serif; fill:#333;">Vector DB, Hybrid Search</text>
  <text x="630" y="120" style="font:14px sans-serif; fill:#333;">Structured DB</text>

  <!-- LAYER 4: CONTEXT ENGINEERING -->
  <rect x="900" y="40" width="270" height="200" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="920" y="70" style="font:bold 16px sans-serif; fill:#222;">Context Engineering</text>
  <text x="920" y="100" style="font:14px sans-serif; fill:#333;">Query Understanding</text>
  <text x="920" y="120" style="font:14px sans-serif; fill:#333;">Multi-source Retrieval</text>
  <text x="920" y="140" style="font:14px sans-serif; fill:#333;">Ranking, Filtering</text>
  <text x="920" y="160" style="font:14px sans-serif; fill:#333;">Context Envelope</text>

  <!-- LAYER 5: LLM ORCHESTRATION -->
  <rect x="320" y="260" width="400" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="340" y="290" style="font:bold 16px sans-serif; fill:#222;">LLM Orchestration Layer</text>
  <text x="340" y="320" style="font:14px sans-serif; fill:#333;">RAG Pipeline, Guardrails</text>
  <text x="340" y="340" style="font:14px sans-serif; fill:#333;">Agentic Workflow</text>

  <!-- LAYER 6: FEEDBACK -->
  <rect x="760" y="260" width="280" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="780" y="290" style="font:bold 16px sans-serif; fill:#222;">Feedback & Learning</text>
  <text x="780" y="320" style="font:14px sans-serif; fill:#333;">User Ratings</text>
  <text x="780" y="340" style="font:14px sans-serif; fill:#333;">Context Quality Scoring</text>

  <!-- LAYER 7: OBSERVABILITY -->
  <rect x="30" y="260" width="260" height="160" style="fill:#f8f9fa;stroke:#333;stroke-width:1.5;rx:10;ry:10;"/>
  <text x="50" y="290" style="font:bold 16px sans-serif; fill:#222;">Observability & Trust</text>
  <text x="50" y="320" style="font:14px sans-serif; fill:#333;">Tracing, Explainability</text>
  <text x="50" y="340" style="font:14px sans-serif; fill:#333;">Security, RBAC</text>

  <!-- Arrows -->
  <line x1="280" y1="120" x2="320" y2="120" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="120" x2="610" y2="120" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="860" y1="120" x2="900" y2="120" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="1030" y1="240" x2="900" y2="260" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="690" y1="200" x2="690" y2="260" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="280" y1="340" x2="320" y2="340" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
  <line x1="720" y1="340" x2="760" y2="340" style="stroke:#333;stroke-width:2;" marker-end="url(#arrowhead)"/>
</svg>
